
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Name Display</title>
  <!-- Include Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase.js"></script>
</head>
<body>
  <div id="usernameDisplay">Loading...</div>

  <script>
    // Initialize Firebase
     var firebaseConfig = {
    apiKey: "AIzaSyBPx4lzqapn6B3vBCmvslOYZne1-tOzFuQ",
    authDomain: "authside.firebaseapp.com",
    databaseURL: "https://authside-default-rtdb.firebaseio.com",
    projectId: "authside",
    storageBucket: "authside.appspot.com",
    messagingSenderId: "255192020763",
    appId: "1:255192020763:web:5b00341cd288eb24cac5be"
  };
    firebase.initializeApp(config);

    // Your JavaScript code for accessing the Realtime Database goes here
    firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
      // User is signed in.
      var uid = user.uid;
      // Get a reference to the database
      var database = firebase.database();
      // Retrieve the user's data from Realtime Database
      database.ref('users/' + uid).once('value')
        .then(function(dataSnapshot) {
          var userData = dataSnapshot.val();
          if (userData) {
            var username = userData.name;
            // Display the username on the HTML
            document.getElementById('usernameDisplay').innerText = "Welcome, " + username;
          } else {
            // Handle the case when the user data is not found
            document.getElementById('usernameDisplay').innerText = "Welcome, unknown user";
          }
        })
        .catch(function(error) {
          // Error getting user data
          console.error("Error getting user data:", error);
          // Handle the error, for example display an error message
          document.getElementById('usernameDisplay').innerText = "Error getting user data";
        });
    } else {
      // No user is signed in.
      // Handle the case when the user is not signed in
      document.getElementById('usernameDisplay').innerText = "You are not signed in";
    }
  });
  </script>
</body>
</html>

